#N canvas 1 58 1288 697 10;
#X obj 963 156 s \$0-jc;
#N canvas 27 282 450 300 j1 0;
#X obj 155 67 r \$0-jc;
#X obj 87 148 s~ \$0-j1o1;
#X obj 155 148 s~ \$0-j1o2;
#X obj 87 27 catch~ \$0-j1i1;
#X obj 120 47 catch~ \$0-j1i2;
#X obj 171 117 randel 250 11 17;
#X obj 42 117 randel 230 11 31;
#X obj 87 87 kl_junction2 1723 1787;
#X connect 0 0 7 2;
#X connect 3 0 7 0;
#X connect 4 0 7 1;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X restore 4 5 pd j1;
#N canvas 816 516 450 300 j2 0;
#X obj 155 67 r \$0-jc;
#X obj 87 27 catch~ \$0-j2i1;
#X obj 120 47 catch~ \$0-j2i2;
#X obj 83 199 s~ \$0-j2o1;
#X obj 151 199 s~ \$0-j2o2;
#X obj 52 127 randel 230 11 17;
#X obj 181 127 randel 250 11 19;
#X obj 87 87 kl_junction2 1783 1861;
#X connect 0 0 7 2;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X restore 4 24 pd j2;
#N canvas 816 307 450 300 j3 0;
#X obj 155 67 r \$0-jc;
#X obj 87 27 catch~ \$0-j3i1;
#X obj 120 48 catch~ \$0-j3i2;
#X obj 87 177 s~ \$0-j3o1;
#X obj 155 177 s~ \$0-j3o2;
#X obj 38 133 randel 240 11 23;
#X obj 191 137 randel 260 11 37;
#X obj 87 97 kl_junction2 1741 1801;
#X connect 0 0 7 2;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X restore 4 43 pd j3;
#N canvas 814 310 450 300 j4 0;
#X obj 155 67 r \$0-jc;
#X obj 87 27 catch~ \$0-j4i1;
#X obj 120 48 catch~ \$0-j4i2;
#X obj 89 156 s~ \$0-j4o1;
#X obj 157 156 s~ \$0-j4o2;
#X obj 33 123 randel 210 11 41;
#X obj 163 123 randel 270 11 53;
#X obj 86 87 kl_junction2 1759 1831;
#X connect 0 0 7 2;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X restore 4 62 pd j4;
#X obj 1091 150 s \$0-apg;
#X obj 83 31 loadbang;
#X obj 82 55 s \$0-lb;
#X obj 962 102 r \$0-lb;
#X obj 1093 110 r \$0-lb;
#N canvas 741 313 450 300 apnests 0;
#X obj 51 27 APN3;
#X obj 51 5 r~ \$0-j1o1;
#X obj 51 48 throw~ \$0-j2i1;
#X obj 121 5 r \$0-apg;
#X obj 120 71 r \$0-apg;
#X obj 50 71 r~ \$0-j2o1;
#X obj 50 114 throw~ \$0-j3i1;
#X obj 120 135 r \$0-apg;
#X obj 50 135 r~ \$0-j3o1;
#X obj 50 178 throw~ \$0-j4i1;
#X obj 121 199 r \$0-apg;
#X obj 51 199 r~ \$0-j4o1;
#X obj 51 242 throw~ \$0-j1i1;
#X obj 301 5 r \$0-apg;
#X obj 300 71 r \$0-apg;
#X obj 300 135 r \$0-apg;
#X obj 301 199 r \$0-apg;
#X obj 231 5 r~ \$0-j1o2;
#X obj 231 48 throw~ \$0-j4i2;
#X obj 230 71 r~ \$0-j4o2;
#X obj 230 114 throw~ \$0-j3i2;
#X obj 229 135 r~ \$0-j3o2;
#X obj 230 178 throw~ \$0-j2i2;
#X obj 231 199 r~ \$0-j2o2;
#X obj 231 242 throw~ \$0-j1i2;
#X msg 86 28 d 1031 337 113 37;
#X msg 265 27 d 1103 367 127 41;
#X msg 85 221 d 1193 397 131 43;
#X msg 265 221 d 1229 409 137 47;
#X msg 264 93 d 1423 467 157 53;
#X msg 84 157 d 1567 521 173 59;
#X msg 264 157 d 1721 569 191 61;
#X msg 86 94 d 1789 593 197 67;
#X obj 357 3 r \$0-lb;
#X obj 324 49 r \$0-lb;
#X obj 321 115 r \$0-lb;
#X obj 323 178 r \$0-lb;
#X obj 175 7 r \$0-lb;
#X obj 144 49 r \$0-lb;
#X obj 141 113 r \$0-lb;
#X obj 142 179 r \$0-lb;
#X obj 50 93 APN3;
#X obj 50 157 APN3;
#X obj 51 221 APN3;
#X obj 231 27 APN3;
#X obj 230 93 APN3;
#X obj 230 157 APN3;
#X obj 231 221 APN3;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 41 1;
#X connect 5 0 41 0;
#X connect 7 0 42 1;
#X connect 8 0 42 0;
#X connect 10 0 43 1;
#X connect 11 0 43 0;
#X connect 13 0 44 1;
#X connect 14 0 45 1;
#X connect 15 0 46 1;
#X connect 16 0 47 1;
#X connect 17 0 44 0;
#X connect 19 0 45 0;
#X connect 21 0 46 0;
#X connect 23 0 47 0;
#X connect 25 0 0 1;
#X connect 26 0 44 1;
#X connect 27 0 43 1;
#X connect 28 0 47 1;
#X connect 29 0 45 1;
#X connect 30 0 42 1;
#X connect 31 0 46 1;
#X connect 32 0 41 1;
#X connect 33 0 26 0;
#X connect 34 0 29 0;
#X connect 35 0 31 0;
#X connect 36 0 28 0;
#X connect 37 0 25 0;
#X connect 38 0 32 0;
#X connect 39 0 30 0;
#X connect 40 0 27 0;
#X connect 41 0 6 0;
#X connect 42 0 9 0;
#X connect 43 0 12 0;
#X connect 44 0 18 0;
#X connect 45 0 20 0;
#X connect 46 0 22 0;
#X connect 47 0 24 0;
#X restore 43 5 pd apnests;
#X obj 47 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 355 50 throw~ \$0-j2i1;
#X obj 448 51 throw~ \$0-j2i2;
#X msg 1092 131 g -0.8 0.5;
#X obj 355 28 inlet~;
#X obj 448 29 inlet~;
#X obj 163 26 inlet~;
#X obj 256 27 inlet~;
#X obj 256 49 throw~ \$0-j1i2;
#X obj 740 30 inlet~;
#X obj 833 31 inlet~;
#X obj 548 28 inlet~;
#X obj 641 29 inlet~;
#X obj 641 51 throw~ \$0-j3i2;
#X obj 740 52 throw~ \$0-j4i1;
#X obj 833 53 throw~ \$0-j4i2;
#X obj 165 119 outlet~;
#X obj 164 48 throw~ \$0-j1i1;
#X obj 549 50 throw~ \$0-j3i1;
#X obj 260 119 outlet~;
#X obj 362 119 outlet~;
#X obj 457 119 outlet~;
#X obj 555 116 outlet~;
#X obj 650 116 outlet~;
#X obj 748 119 outlet~;
#X obj 843 119 outlet~;
#X msg 962 129 k 0.6 \, g 0.7 \, s 1;
#X obj 798 419 r \$0-lb;
#X obj 796 446 f \$0;
#X obj 796 475 outlet;
#X obj 979 30 inlet;
#X obj 977 63 route junc apn;
#X obj 164 93 r~ \$0-j1o1;
#X obj 261 92 r~ \$0-j1o2;
#X obj 361 93 r~ \$0-j2o1;
#X obj 457 93 r~ \$0-j2o2;
#X obj 554 90 r~ \$0-j3o1;
#X obj 649 90 r~ \$0-j3o2;
#X obj 747 93 r~ \$0-j4o1;
#X obj 843 93 r~ \$0-j4o2;
#X text 54 195 A complex reverberator based on kelly-lochbaum scattering
junctions and Schroeder allapass nests with some extra trickery thrown
around like modulating delay-times (Sattoro's idea I think) and other
stuff I can't remember.;
#X text 56 278 Don't be thrown off by the vast amount of inlets and
outlets. They are there for you to choose where in the circuit to induce
your signal and where to take it out. The structure is one big two-ways
feedback circle of 4 junctions with allpass nests in between.;
#X text 56 382 The allpass nests are not exactly tuned like Schroeder
did it. He used prime series approximating 1/3 with each step. I used
prime series approximating the golden ratio instead. I think I have
.csv files somewhere with both schroeder series and golden ratio series
going from lowest possible combo to very high... pen the [pd apnests]
if you want to know;
#X text 856 190 The controls are kind of simple. A KL-Scattering junction
has one coeffiecient named 'k'. I introduced a gain - 'g' - coefficient
on the inlets of the junctions in order to have a control over otherwise
speaker blowing and amp frying build ups (I actually burned one set
of headphones with this circuit). Furthermore there's a signal path
switch - 's' - for experimental purposes. It's binary so anything but
0 or 1 wont do anything.;
#X text 858 327 The allpass nests have two gain controls: One for the
outer AP loop and one for the inner APs.;
#X text 858 376 Use messages prepended with either junc or apn to tweak
the two. See above messages for an example;
#X text 866 434 a read-out of \$0 is provided in case you wanna tweak
any other parameter directly;
#X connect 6 0 7 0;
#X connect 8 0 37 0;
#X connect 9 0 14 0;
#X connect 11 0 7 0;
#X connect 14 0 5 0;
#X connect 15 0 12 0;
#X connect 16 0 13 0;
#X connect 17 0 28 0;
#X connect 18 0 19 0;
#X connect 20 0 25 0;
#X connect 21 0 26 0;
#X connect 22 0 29 0;
#X connect 23 0 24 0;
#X connect 37 0 0 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 41 0 42 0;
#X connect 42 0 0 0;
#X connect 42 1 5 0;
#X connect 43 0 27 0;
#X connect 44 0 30 0;
#X connect 45 0 31 0;
#X connect 46 0 32 0;
#X connect 47 0 33 0;
#X connect 48 0 34 0;
#X connect 49 0 35 0;
#X connect 50 0 36 0;
